!function(e,t){var a=e(document),s=t.i18n.__,i=t.i18n._x,n=t.i18n.sprintf;(t=t||{}).updates=t.updates||{},t.updates.importDemo=function(l){var r=e('.demo-import[data-slug="'+l.slug+'"]');return a.find("body").hasClass("full-overlay-active")&&(r=e(".wp-full-overlay-header, .wp-full-overlay-footer").find(".demo-import")),l=_.extend({success:t.updates.importDemoSuccess,error:t.updates.importDemoError},l),r.addClass("updating-message"),r.parents(".theme").addClass("focus"),r.html()!==s("Importing...","getbowtied-kits-templates-and-patterns")&&r.data("originaltext",r.html()),r.text(s("Importing...","getbowtied-kits-templates-and-patterns")).attr("aria-label",n(i("Importing %s...","demo","getbowtied-kits-templates-and-patterns"),r.data("name"))),t.a11y.speak(s("Importing... please wait.","getbowtied-kits-templates-and-patterns"),"polite"),e('.install-theme-info, [data-slug="'+l.slug+'"]').removeClass("demo-import-failed").find(".notice.notice-error").remove(),a.trigger("wp-demo-importing",l),t.updates.ajax("import-demo",l)},t.updates.importDemoSuccess=function(l){var r,o=e(".wp-full-overlay-header, .wp-full-overlay-footer, [data-slug="+l.slug+"]");a.trigger("wp-demo-import-success",l),r=o.find(".button-primary").removeClass("updating-message").addClass("updated-message disabled").attr("aria-label",n(i("%s imported!","demo","getbowtied-kits-templates-and-patterns"),l.demoName)).text(s("Imported!","getbowtied-kits-templates-and-patterns")),t.a11y.speak(s("Import completed successfully.","getbowtied-kits-templates-and-patterns"),"polite"),setTimeout((function(){l.previewUrl&&(r.siblings(".demo-preview").remove(),r.attr("target","_blank").attr("href",l.previewUrl).removeClass("demo-import updated-message disabled").addClass("live-preview").attr("aria-label",n(i("Live Preview %s","demo","getbowtied-kits-templates-and-patterns"),l.demoName)).text(s("Live Preview","getbowtied-kits-templates-and-patterns")),e.confirm({icon:"fa-regular fa-thumbs-up",theme:"modern",animation:"scale",type:"blue",title:"<br />Congratulations!",content:'<div class="demo-import-confirm-message">The import process has been completed successfully. Everything\'s in place and ready to roll. Awesome job! <br /><br /><hr /><br /><h2><i class="fa-regular fa-hand-point-right"></i> What\'s next?</h2><br /><strong>In order for the images to display correctly, you will need to regenerate the thumbnails.</strong><br />The process is automatic; all you have to do is click the button below.<br /></div>',boxWidth:"50%",useBootstrap:!1,buttons:{confirm:{text:"Great! Take me to Thumbnail Regeneration",keys:["enter"],btnClass:"wp-core-ui button-primary",action:function(){window.location.href=l.regenerateThumbnailsUrl}},cancel:{btnClass:"wp-core-ui button-secondary",action:function(){}}},onContentReady:function(){e("body").addClass("demo-import-message-popup")},onDestroy:function(){e("body").removeClass("demo-import-message-popup")}}))}),1e3)},t.updates.importDemoError=function(l){var r,o=n(s("Import failed: %s","getbowtied-kits-templates-and-patterns"),l.errorMessage),d=t.updates.adminNotice({className:"update-message notice-error notice-alt",message:o});t.updates.isValidResponse(l,"import")&&(t.updates.maybeHandleCredentialError(l,"import-demo")||(a.find("body").hasClass("full-overlay-active")?(r=e('.demo-import[data-slug="'+l.slug+'"]'),e(".install-theme-info").prepend(d)):r=e('[data-slug="'+l.slug+'"]').removeClass("focus").addClass("demo-import-failed").append(d).find(".demo-import"),r.removeClass("updating-message").attr("aria-label",n(i("%s import failed","demo","getbowtied-kits-templates-and-patterns"),r.data("name"))).text(s("Problem. Retry, please!","getbowtied-kits-templates-and-patterns")),t.a11y.speak(o,"assertive"),a.trigger("wp-demo-import-error",l)))},t.updates.bulkInstallPlugin=function(l){var r,o,d;return l=_.extend({success:t.updates.bulkInstallPluginSuccess,error:t.updates.bulkInstallPluginError},l),a.find("body").hasClass("full-overlay-active")?(r=e('tr[data-slug="'+l.slug+'"]'),o=e('.theme-install-overlay .demo-import[data-slug="'+l.demo+'"]'),d=n(i("Installing %s...","plugin","getbowtied-kits-templates-and-patterns"),r.data("name")),r.find(".plugin-status span").addClass("updating-message").attr("aria-label",n(i("Installing %s...","plugin","getbowtied-kits-templates-and-patterns"),r.data("name"))).text(s("Installing...","getbowtied-kits-templates-and-patterns"))):(o=e('.demo-import[data-slug="'+l.demo+'"]'),d=n(i("Installing %s...","plugin","getbowtied-kits-templates-and-patterns"),l.name),o.parents(".theme").addClass("focus")),o.html()!==s("Installing...","getbowtied-kits-templates-and-patterns")&&o.data("originaltext",o.html()),o.attr("aria-label",d).addClass("updating-message").text(s("Installing...","getbowtied-kits-templates-and-patterns")),t.a11y.speak(s("Installing... please wait.","getbowtied-kits-templates-and-patterns"),"polite"),a.trigger("wp-plugin-bulk-installing",l),t.updates.ajax("install-required-plugin",l)},t.updates.bulkInstallPluginSuccess=function(l){e('tr[data-slug="'+l.slug+'"]').removeClass("install").addClass("installed").find(".plugin-status span").removeClass("updating-message install-now").addClass("updated-message active").attr("aria-label",n(i("%s installed!","plugin","getbowtied-kits-templates-and-patterns"),l.pluginName)).text(i("Installed!","plugin","getbowtied-kits-templates-and-patterns")),t.a11y.speak(s("Installation completed successfully.","getbowtied-kits-templates-and-patterns"),"polite"),a.trigger("wp-plugin-bulk-install-success",l)},t.updates.bulkInstallPluginError=function(l){var r,o=e('tr[data-slug="'+l.slug+'"]'),d=o.find(".plugin-status span");t.updates.isValidResponse(l,"install")&&(t.updates.maybeHandleCredentialError(l,"install-plugin")||(r=n(s("Installation failed: %s","getbowtied-kits-templates-and-patterns"),l.errorMessage),d.removeClass("updating-message").addClass("updated-message").attr("aria-label",n(i("%s installation failed","plugin","getbowtied-kits-templates-and-patterns"),o.data("name"))).text(s("Installation Failed!","getbowtied-kits-templates-and-patterns")),t.a11y.speak(r,"assertive"),a.trigger("wp-plugin-bulk-install-error",l)))},t.updates.isValidResponse=function(a,i){var n,l=s("Something went wrong.","getbowtied-kits-templates-and-patterns");if(_.isObject(a)&&!_.isFunction(a.always))return!0;switch(_.isString(a)&&"-1"===a?l=s("An error has occurred. Please reload the page and try again.","getbowtied-kits-templates-and-patterns"):_.isString(a)?l=a:void 0!==a.readyState&&0===a.readyState?l=s("Connection lost or the server is busy. Please try again later.","getbowtied-kits-templates-and-patterns"):_.isString(a.statusText)&&(l=a.statusText+" <strong>"+s("Please try again!","getbowtied-kits-templates-and-patterns")+"</strong>"),i){case"import":n=s("Import failed: %s","getbowtied-kits-templates-and-patterns");break;case"install":n=s("Installation failed: %s","getbowtied-kits-templates-and-patterns")}return n=n.replace("%s",l),t.updates.addAdminNotice({id:"unknown_error",className:"notice-error is-dismissible",message:_.unescape(n)}),t.updates.ajaxLocked=!1,t.updates.queue=[],e(".button.updating-message").removeClass("updating-message").removeAttr("aria-label").text(s("Problem. Retry, please!","getbowtied-kits-templates-and-patterns")),t.a11y.speak(n,"assertive"),!1},t.updates.queueChecker=function(){var e;if(!t.updates.ajaxLocked&&t.updates.queue.length){switch((e=t.updates.queue.shift()).action){case"import-demo":t.updates.importDemo(e.data);break;case"install-plugin":t.updates.bulkInstallPlugin(e.data)}a.trigger("wp-updates-queue-job",e)}}}(jQuery,window.wp);